{
    "detectorModelDefinition": {
        "states": [
            {
                "stateName": "Init",
                "onInput": {
                    "events": [],
                    "transitionEvents": [
                        {
                            "eventName": "PIR_Detected",
                            "condition": "$input.pir_input.state.reported.pir_detected == true",
                            "actions": [],
                            "nextState": "Detect_Mask_State"
                        }
                    ]
                },
                "onEnter": {
                    "events": [
                        {
                            "eventName": "setVar",
                            "condition": "true",
                            "actions": [
                                {
                                    "setVariable": {
                                        "variableName": "pir_state",
                                        "value": "0"
                                    }
                                }
                            ]
                        }
                    ]
                },
                "onExit": {
                    "events": []
                }
            },
            {
                "stateName": "Detect_Mask_State",
                "onInput": {
                    "events": [
                        {
                            "eventName": "SomeonePersonNoMask_false",
                            "condition": "$input.MaskDetection_input.SomeonePersonNoMask == false",
                            "actions": [
                                {
                                    "iotTopicPublish": {
                                        "mqttTopic": "'detect/mask'",
                                        "payload": {
                                            "contentExpression": "'{\"detect_mask\": 1}'",
                                            "type": "JSON"
                                        }
                                    }
                                }
                            ]
                        },
                        {
                            "eventName": "SomeonePersonNoMask_true",
                            "condition": "$input.MaskDetection_input.SomeonePersonNoMask == true",
                            "actions": [
                                {
                                    "iotTopicPublish": {
                                        "mqttTopic": "'detect/mask'",
                                        "payload": {
                                            "contentExpression": "'{\"detect_mask\": 0}'",
                                            "type": "JSON"
                                        }
                                    }
                                }
                            ]
                        }
                    ],
                    "transitionEvents": [
                        {
                            "eventName": "backInit",
                            "condition": "$input.pir_input.state.reported.pir_detected == false",
                            "actions": [],
                            "nextState": "Init"
                        }
                    ]
                },
                "onEnter": {
                    "events": [
                        {
                            "eventName": "pir_state_change",
                            "condition": "true",
                            "actions": [
                                {
                                    "setVariable": {
                                        "variableName": "pir_state",
                                        "value": "$variable.pir_state + 1"
                                    }
                                }
                            ]
                        }
                    ]
                },
                "onExit": {
                    "events": []
                }
            }
        ],
        "initialStateName": "Init"
    },
    "detectorModelDescription": null,
    "detectorModelName": "maskDetectModel",
    "evaluationMethod": "BATCH",
    "key": null,
    "roleArn": "arn:aws:iam::383570952416:role/service-role/AWS_IoTEvents_HelloWorld_ActionRole"
}